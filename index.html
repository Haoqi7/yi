<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ç†Šç†Šç§˜å¯†é€šä¿¡ç«™ ğŸ”’</title>
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #FFAA93;
            --bg: #FFF5F3;
        }
        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: var(--bg);
            font-family: 'Segoe UI', system-ui;
        }
        .header {
            text-align: center;
            margin: 2rem 0;
        }
        .converter-box {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 2rem;
        }
        textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--secondary);
            border-radius: 8px;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        textarea:focus {
            border-color: var(--primary);
            outline: none;
        }
        .mode-switch {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        footer {
            text-align: center;
            margin-top: 2rem;
            color: #666;
            font-size: 0.9rem;
        }
        .emoji-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
        }
        .emoji-item {
            padding: 0.3rem;
            text-align: center;
            background: #fff0e6;
            border-radius: 5px;
        }
        /* æ–°å¢åŠ¨ç”»æ•ˆæœ */
        @keyframes popIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); }
            to { transform: translateY(0); }
        }

        .converter-box {
            animation: slideUp 0.6s ease-out;
        }

        button {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        button:hover {
            transform: rotate(-2deg) scale(1.05);
        }

        #output {
            transition: background-color 0.3s;
            animation: popIn 0.4s ease-out;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1> <img src="https://i.111666.best/image/qzdJlvSvz1PON2ZAZtCmAz.png" > ç†Šç†Šè¯­åŒå‘è½¬æ¢å™¨ ğŸ”¥</h1>
        <p>ã€Œ ç†Šç†Šæ˜Ÿçƒçš„ç§˜å¯†é€šä¿¡æ–¹å¼ ã€</p>
    </div>

    <div class="converter-box">
        <textarea id="input" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä¸­æ–‡æˆ–ç†Šç†Šè¯­..." rows="4"></textarea>
        
        <div class="mode-switch">
            <button onclick="toggleMode('cn2bear')">ä¸­æ–‡ â†’ ç†Šè¯­ ğŸ¾</button>
            <button onclick="toggleMode('bear2cn')">ç†Šè¯­ â†’ ä¸­æ–‡ ğŸ“–</button>
        </div>

        <pre id="output"></pre>

        <div class="emoji-palette" id="emojiHelp"></div>
    </div>

    <footer>
        <p>ğŸ» ç†Šç†Šé€šä¿¡åè®® v2.3 | Â© 2024 æ£®æ—æŠ€æœ¯å±€</p>
        <p>âœ¨ ä½¿ç”¨æç¤ºï¼šåŒå‡»è½¬æ¢ç»“æœå¯ä»¥å¤åˆ¶åˆ°å‰ªè´´æ¿</p>
    </footer>

    <script>
        // å¢å¼ºç‰ˆç†Šè¯­å­—å…¸ï¼ˆåŒ…å«æƒ…æ„Ÿè¡¨è¾¾ï¼‰
        const bearDictionary = new Map([
            // åŸºç¡€è¯æ±‡
            ['æˆ‘','å•Šå“’'], ['ä½ ','å•Šå“’!'], ['ä»–','å“’å•Š'], ['å¥½','å“’~~'],
            ['æ˜¯','å•Š?'], ['ä¸','å“’??'], ['äº†','å“’~'], ['çš„','å“’ã€‚'],
            
            // æƒ…æ„Ÿè¡¨è¾¾
            ['çˆ±','â¤ï¸å•Šå“’'], ['å¼€å¿ƒ','ğŸ‰å“’å“’'], ['éš¾è¿‡','ğŸ’§å“’å•Š'], 
            ['ç”Ÿæ°”','ğŸ’¢å“’!!'], ['æƒŠå–œ','ğŸå•Š?å“’'], ['é¥¿','ğŸ–å“’å“’'],
            
            // æ—¥å¸¸ç”¨è¯­
            ['è°¢è°¢','ğŸ¯å“’~'], ['å¯¹ä¸èµ·','ğŸ™‡å“’...'], ['æ—©å®‰','ğŸŒå“’å•Š'],
            ['æ™šå®‰','ğŸŒ™å“’~~'], ['åŠ æ²¹','ğŸ”¥å“’å“’!'], ['å±é™©','âš ï¸å“’!!!'],
            
            // ç–‘é—®è¯
            ['å—','?å“’?'], ['å‘¢','?å“’~'], ['ä»€ä¹ˆ','??å“’'], ['ä¸ºä»€ä¹ˆ','?å•Š?å“’'],
            
            // åŠ¨è¯
            ['åƒ','ğŸ½å“’'], ['ç¡','ğŸ’¤å“’~'], ['ç©','ğŸ®å“’!'], ['çœ‹','ğŸ‘€å“’'],

            // æ—¶é—´ç›¸å…³
            ['ç°åœ¨','âŒšå•Šå“’å“’'], ['ä»Šå¤©','ğŸŒå“’å“’'], ['æ˜å¤©','ğŸŒå“’å•Š'], 
            ['æ˜¨å¤©','ğŸŒ›å“’å•Š'], ['å°æ—¶','â°å“’~'], ['åˆ†é’Ÿ','â±å“’~'],

            // åœ°ç‚¹ç›¸å…³
            ['è¿™é‡Œ','ğŸ“å“’!'], ['é‚£é‡Œ','ğŸ”å“’~'], ['å®¶','ğŸ å•Šå“’'], 
            ['å­¦æ ¡','ğŸ“å“’å•Š'], ['å…¬å¸','ğŸ’¼å“’!'], ['åŒ»é™¢','ğŸ¥å“’~~'],

            // å¸¸ç”¨åŠ¨è¯
            ['å»','ğŸš¶å“’!'], ['æ¥','ğŸ‘‹å“’~'], ['ä¹°','ğŸ›å•Šå“’'], 
            ['åš','ğŸ› å“’å•Š'], ['å­¦ä¹ ','ğŸ“–å“’~~'], ['å·¥ä½œ','ğŸ’»å“’!'],

            // ç‰©å“åè¯
            ['æ‰‹æœº','ğŸ“±å“’å“’'], ['ç”µè„‘','ğŸ’»å“’~'], ['ä¹¦','ğŸ“šå•Šå“’'],
            ['é’±','ğŸ’°å“’!!'], ['é£Ÿç‰©','ğŸ”å“’~'], ['æ°´','ğŸ’§å“’å•Š'],

            // ç¤¾äº¤ç”¨è¯­
            ['ä½ å¥½','ğŸ‘‹å“’å“’~'], ['å†è§','ğŸ‘‹ğŸŒ›å“’'], ['æ¬¢è¿','ğŸ‰å•Šå“’'],
            ['æ­å–œ','ğŸŠå“’!!'], ['æ‹œæ‰˜','ğŸ™å“’~'], ['ä¸€èµ·','ğŸ‘«å“’å“’'],

            // çŠ¶æ€æè¿°
            ['å¿«','âš¡å“’!'], ['æ…¢','ğŸ¢å“’~~'], ['çƒ­','ğŸ¥µå“’!'], 
            ['å†·','ğŸ¥¶å“’~~'], ['ç´¯','ğŸ˜´å“’~'], ['å¿™','ğŸ’¼ğŸ”¥å“’']ï¼Œ
            
            // åè¯
            ['å®¶','ğŸ å“’'], ['æœ‹å‹','ğŸ‘«å“’~'], ['ç«','ğŸ”¥å“’!'], ['èœ‚èœœ','ğŸ¯å“’']
        ]);

        // è‡ªåŠ¨ç”Ÿæˆåå‘å­—å…¸
        const reverseDictionary = new Map(
            Array.from(bearDictionary).map(([k, v]) => [v, k])
        );

        // è½¬æ¢æ¨¡å¼çŠ¶æ€
        let currentMode = 'cn2bear';

        // æ™ºèƒ½è½¬æ¢æ ¸å¿ƒ
        function smartConvert(text) {
            return text.split('').map(char => {
                if (currentMode === 'cn2bear') {
                    return bearDictionary.get(char) || charToBearCode(char);
                }
                return reverseDictionary.get(char) || bearToChinese(char);
            }).join(' ');
        }

        // æœªæ”¶å½•å­—ç¬¦è½¬æ¢æ–¹æ¡ˆ
        function charToBearCode(char) {
            const code = char.charCodeAt(0).toString(2);
            return 'å•Š' + code.replace(/0/g, 'å“’').replace(/1/g, 'å•Šå“’');
        }

        function bearToChinese(code) {
            try {
                const binary = code.replace(/å•Š/g,'1').replace(/å“’/g,'0');
                return String.fromCharCode(parseInt(binary, 2));
            } catch {
                return `âŒ${code}`;
            }
        }

        // ç•Œé¢äº¤äº’
        function toggleMode(mode) {
            currentMode = mode;
            document.getElementById('input').value = '';
            document.getElementById('output').textContent = '';
            updateEmojiHelp();
        }

        // åœ¨ç•Œé¢åˆå§‹åŒ–æ—¶æ·»åŠ åŠ¨ç”»
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.header').style.animation = 'popIn 0.8s';
        });

        // åœ¨è½¬æ¢æ—¶æ·»åŠ åŠ¨æ€æ•ˆæœ
        function smartConvert(text) {
            document.getElementById('output').style.animation = 'none';
            void document.getElementById('output').offsetWidth; // è§¦å‘é‡ç»˜
            document.getElementById('output').style.animation = 'popIn 0.4s';
        // å®æ—¶è½¬æ¢
        document.getElementById('input').addEventListener('input', function(e) {
            const result = smartConvert(e.target.value);
            document.getElementById('output').textContent = result;
        });

        // åŒå‡»å¤åˆ¶
        document.getElementById('output').addEventListener('dblclick', function() {
            navigator.clipboard.writeText(this.textContent);
            alert('å¤åˆ¶æˆåŠŸï¼ğŸ‰');
        });

        // è¡¨æƒ…ç¬¦å·å¸®åŠ©é¢æ¿
        function updateEmojiHelp() {
            const emojiList = Array.from(bearDictionary.values())
                .filter(v => v.match(/[â¤ï¸ğŸ‰ğŸ’§ğŸ’¢ğŸğŸ–]/))
                .map(v => ({ code: v, meaning: reverseDictionary.get(v) }));
            
            document.getElementById('emojiHelp').innerHTML = emojiList
                .map(e => `<div class="emoji-item">${e.code}<br>${e.meaning}</div>`)
                .join('');
        }

        // åˆå§‹åŒ–
        updateEmojiHelp();
    </script>
</body>
</html>
